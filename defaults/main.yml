---
# Admin credentials
foreman_admin_user: 'admin'
foreman_admin_password: 'secret'

# Server information
foreman_url: 'https://foreman.example.com'
foreman_server_type: 'foreman' # or satellite
foreman_validate_certs: false

# Organization, Locations and Lifecycle path
foreman_organization: 'Example-Org'
foreman_locations:
  - 'Example Location'
  - 'Cloud/Other Location' # Nested example

# Red Hat subscription information
foreman_configure_redhat_repos: false                         # Configure Red Hat subscriptions and repos
foreman_rh_subsciption_manifest: 'files/path/to/manifest.zip' # Path of the manifest ZIP archive.
foreman_redhat_repositories:
  - label: 'rhel-7-server-rpms'
    repositories:
      - releasever: "7Server"
        basearch: "x86_64"

# Set the environments in the order you wish to have them
foreman_lifecycle:
  - 'Library' # Library entry is mandatory and _must_ be first!
  - 'Development'
  - 'QA'
  - 'Production'

# Set the environments for the Infrastructure environment
foreman_infrastructure_lifecycle:
  - 'Library'
  - 'Infra'

# Create a host collection for all lifecycle environments
# The example below will result in the following collections
# if used with the default lifecycle path:
#
# - centos7-development
# - centos7-qa
# - centos7-production
foreman_host_collections_lifecycle:
  - 'centos7'

foreman_products: []
# Below is an example of an Product and it's Repositories
#  - name: 'CentOS7' # This name will be used for products as well as CVs (content views)
#    type: 'yum'
#    repositories: # Also supports ssl_ca_cert, ssl_client_cert, ssl_client_key, upstream_password, upstream_username
#                  # For details https://theforeman.github.io/foreman-ansible-modules/v1.0.1/modules/repository_module.html#repository-module
#      - name: 'Base'
#        url: 'http://mirror.centos.org/centos/7/os/x86_64'
#    gpg_key: 'RPM-GPG-KEY-CentOS7'
#    gpg_key_url: 'https://www.centos.org/keys/RPM-GPG-KEY-CentOS-7'

foreman_composite_content_views: []
# Below is an example of an Composite Content View
#  - name: 'COV Example'
#    components:
#      - content_view: 'CV Example'
#        latest: true

# Activation keys to create, for each Lifecycle (except Library)
# The key will always be associated with the Host Collection for it's Lifecycle
#
# The name of the key must contain the OS name as reported by facter and the major version
# if you wish to also configure them for deployment
#
# The example key below will be added to the following host collections:
#
# - centos7             # all machines with this version of the OS
# - centos7-servers     # all Lifecycle versions of this key
# - centos7-production  # CentOS7-Base-Production
# - centos7-qa          # CentOS7-Base-QA
# - centos7-development # CentOS7-Base-Development
foreman_activation_keys: []
# For more details, check https://theforeman.github.io/foreman-ansible-modules/v1.0.1/modules/activation_key_module.html#activation-key-module
# - key: 'CentOS7-Base'
#   content_view: 'COV Example'
#   subscriptions:
#     - name: 'CentOS 7'
#   release_version: '7Server'
#   content_overrides:
#     - label: 'epel-test'
#       override: 'enabled'
#   auto_attach: true
#   host_collections:
#     - 'centos7-servers'

###
# Deployment settings
###

## Global network settings
# These networks are made available in the Foreman infrastructure
# The names of the networks must be following the lifecycle path
foreman_deploy_networks:
  - name: 'Development'
    address: '192.168.1.0/24'
    range_start: '192.168.1.150'
    range_end: '192.168.1.200'
    network_gateway: '192.168.1.1'
    auth_nameserver: '192.168.1.1'
    dns_primary: '192.168.1.1' # if not defined, will use the IP of the foreman server
    dns_secondary: '192.168.1.1' # optional
    dns_zone: 'dev.example.com'
    locations:
      - 'DC1'
    smart_proxy: 'foreman.example.com' # If not defined, will use the global foreman server
  - name: 'QA'
    address: '192.168.2.0/24'
    range_start: '192.168.2.150'
    range_end: '192.168.2.200'
    network_gateway: '192.168.2.1'
    auth_nameserver: '192.168.2.1'
    dns_primary: '192.168.2.1' # if not defined, will use the IP of the foreman server
    dns_secondary: '192.168.2.1' # optional
    dns_zone: 'qa.example.com'
    locations:
      - 'DC1'
      - 'DC2'
    smart_proxy: 'foreman-proxy.qa.example.com'
  - name: 'Production'
    address: '192.168.3.0/24'
    range_start: '192.168.3.150'
    range_end: '192.168.3.200'
    network_gateway: '192.168.3.1'
    auth_nameserver: '192.168.3.1'
    dns_primary: '192.168.3.1' # if not defined, will use the IP of the foreman server
    dns_secondary: '192.168.3.1' # optional
    dns_zone: 'prod.example.com'
    locations:
      - 'DC1'
      - 'DC2'
    smart_proxy: 'foreman-proxy.prod.example.com' # If not defined, will use the global foreman server
##

# Run Foreman Installer to configure deployment components
# NOTE: This role currently assumes a 'default' scenario where Foreman manages DHCP, DNS and TFTP.
# For DNS, different scenario's are avaiable, see below
# If you require a different setup, disable this and prepare the node manually.
foreman_deploy_run_installer: true

# Select a DNS deployment scenario
foreman_deploy_dns_scenario: 'internal' # internal or nsupdate

### DNS scenario: nsupdate
# Upstream server
foreman_deploy_dns_server: '192.168.1.1'
# RNDC credentials, make sure this file exists before running this role!
foreman_deploy_dns_rndc_key: '/etc/rndc.key'
# Default TTL for created records
foreman_deploy_dns_ttl: 600
###

### DNS Scenario: internal
# Which upstream DNS server Foreman should use
foreman_dns_forwarders: '9.9.9.9'
###

# The root password set on all machines deployed by Foreman
# If not set, will default to 'changemeNOW!'
foreman_deploy_root_pass: 'SuperSecretPassword'

# Operating systems to configure for deployment
foreman_operating_systems:
  - name: 'CentOS'   # Name as supplied by Facter, this will be combined with the Major version to a friendly name
    major_version: 7
    arch:
     - 'x86_64'
    os_family: 'Redhat'
    partitions: 'Kickstart default'
    root_pass: 'SuperSecretPassword'
    parameters:
      - name: 'remote_execution_create_user'
        value: 'true'
        parameter_type: 'boolean'
      - name: 'remote_execution_ssh_user'
        value: 'ansible'
      - name: 'remote_execution_effective_user_method'
        value: 'sudo'
      - name: 'remote_execution_ssh_keys'
        value: "{{ lookup('file', 'ssh_keys/ansible.pub') }}"
    path: 'http://foreman.example.com/pulp/repos/Example-Org/Library/custom/CentOS7/CentOS7-Base/'
    # The URL above is the location of the CV 'CentOS7-Base' for the 'Example-Org' organization

# Which version of the Foreman Discorvery Image to use
foreman_discovery_image_release: 'latest'
## end of global settings

## Foreman instance network settings
# Which network interface to configure DHCP/DNS for the current instance
foreman_instance_deploy_interface: 'eth1'
# Which Network is used by this instance
foreman_instance_network: 'Development'
##



# Enable to allow logging for tasks that can contain sensitive information
foreman_debug: false
